#!/bin/bash

# This script will display a random man page to help build familiarity with
# tools not previously encountered.


for i in {1..10}; do
    pathLocation[$i]=$(echo $PATH | cut -d ":" -f $i)
done

function man_up () {
    # Find a candidate command in the user's PATH
    page=$(ls ${pathLocation[i]} | shuf | head -1)
    echo $page >> .${i}.out
    if [[ $(ls ${pathLocation[i]} | wc -l) -ge $(wc -l < .${i}.out) ]]; then
        ((i++))
    fi
    # If there is no man page for the command, send error to /dev/null and
    # call the function again until one is found
    man $page 2> /dev/null || man_up
}

i=1
man_up
